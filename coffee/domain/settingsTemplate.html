<div class="page-header">
    <h1>Settings</h1>
</div>

<div class="row">
    <div class="col-sm-12">

        <div class="btn-group pull-right" data-toggle="buttons">
            <label class="btn btn-primary" data-ng-class="{active: !activateForAllEmails}">
                <input type="radio" data-ng-model="activateForAllEmails" data-ng-value="false" data-ng-change="toggleActivateForAllEmails()">
                Activate for all users <span class="bold">except</span> these
            </label>

            <label class="btn btn-primary" data-ng-class="{active: activateForAllEmails}">
                <input type="radio" data-ng-model="activateForAllEmails" data-ng-value="true" data-ng-change="toggleActivateForAllEmails()">
                Activate for <span class="bold">only</span> these users
            </label>
        </div>

        <table class="table div-table">
            <thead>
                <tr>
                    <th style="width: 50px;">Activate</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody>
                <tr data-ng-repeat="email in allEmails">
                    <td style="text-align: center;">
                        <input type="checkbox" data-ng-if="!email.updating && !activateForAllEmails" data-ng-model="email.blacklisted" data-ng-change="toggleEmailBlacklisted(true, email)">
                        <input type="checkbox" data-ng-if="!email.updating && activateForAllEmails" data-ng-model="email.whitelisted" data-ng-change="toggleEmailWhitelisted(true, email)">
                        <i class="fa fa-circle-o-notch fa-spin" style="margin-left: -20px; margin-top: 3px; float: left;" data-ng-if="email.updating"></i>
                    </td>
                    <td>
                        {{ email.email }}
                    </td>
                </tr>
            </tbody>
        </table>

        <nav data-ng-show="numPages > 0">
            <ul class="pagination">
                <li data-ng-class="{disabled: pageNumber == 1}">
                    <a data-ng-href="{{ getPageNavLink(1) }}">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                <li data-ng-class="{active: pageNumber == i}" data-ng-repeat="i in getPageNumbers(numPages)">
                    <a data-ng-href="{{ getPageNavLink(i) }}">{{ i }}</a>
                </li>
                <li data-ng-class="{disabled: pageNumber == numPages}">
                    <a data-ng-href="{{ getPageNavLink(numPages) }}">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>
